<html>

<link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css"
integrity="sha512-xodZBNTC5n17Xt2atTPuE1HxjVMSvLVW9ocqUKLsCC5CXdbqCmblAshOMAS6/keqq/sMZMZ19scR4PsZChSR7A=="
crossorigin=""/>

<script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
crossorigin=""></script>

<script type="text/javascript" src="https://code.jquery.com/jquery-1.7.2.min.js"></script>
<script src="https://code.jquery.com/jquery-3.2.1.min.js"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/0.8.3/jquery.csv.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/0.8.3/jquery.csv.js"></script>

<script src='//api.tiles.mapbox.com/mapbox.js/plugins/leaflet-omnivore/v0.3.1/leaflet-omnivore.min.js'></script>


<body>
<div id='map' style='height:550px; width: 1200px;'></div>

<script>

// global variables //
var OneMap_Token = "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJzdWIiOjgxMTAsInVzZXJfaWQiOjgxMTAsImVtYWlsIjoia2VpdGgubG9vQGdhdGVjaC5lZHUiLCJmb3JldmVyIjpmYWxzZSwiaXNzIjoiaHR0cDpcL1wvb20yLmRmZS5vbmVtYXAuc2dcL2FwaVwvdjJcL3VzZXJcL3Nlc3Npb24iLCJpYXQiOjE2MzU4MjczMzEsImV4cCI6MTYzNjI1OTMzMSwibmJmIjoxNjM1ODI3MzMxLCJqdGkiOiI3ZDRjMjYzOTg2NWY2YjUyMTMxYWI4NGU3MDIzMTgxZiJ9.1hAkQfZUTY1LsAqIKoi0lbXqYi3jCnIgkK3XBFaw34c"

// testing variables //
var testSearch = "J Gateway"
var testlocationXY = {x: 26196.0124962935, y: 30258.525668541, name: "Artra"} //"X":"26196.0124962935","Y":"30258.525668541"
var testlocationLatLong1 = {latitude: 1.2901276549478262, longitude: 103.81655234786841, name: "Artra", price: 1700000} //"LATITUDE":"1.2901276549478262","LONGITUDE":"103.81655234786841
var testlocationLatLong2 = {latitude: 1.33555731797921, longitude: 103.742416815373, name: "J Gateway", price: 1200000} //"LATITUDE":"1.33555731797921","LONGITUDE":"103.742416815373"
var testTheme = "kindergartens"
var tempLatLong = {latitude: 1.2901276549478262, longitude: 103.81655234786841, name: "Artra", road: "Alexandra View"}
var testGeoJSon =
    {
    "type": "Feature",
    "properties": {
        "name": "BUKIT MERAH"
    },
    "geometry": {
        "type": "MultiPolygon",
        "coordinates": [
            [
                [
                    [
                        103.812520911634,
                        1.26428045927924
                    ],
                    [
                        103.812616543481,
                        1.26426347426555
                    ],
                    [
                        103.812733475286,
                        1.26432933377399
                    ],
                    [
                        103.813129188088,
                        1.26375075854136
                    ],
                    [
                        103.813019800245,
                        1.26370178903098
                    ],
                    [
                        103.813040713821,
                        1.26367125240679
                    ],
                    [
                        103.813057456146,
                        1.26367480488408
                    ],
                    [
                        103.813094346217,
                        1.26368391122482
                    ],
                    [
                        103.813130919098,
                        1.26369422850727
                    ],
                    [
                        103.813167137049,
                        1.26370574497444
                    ],
                    [
                        103.813202961434,
                        1.26371844796492
                    ],
                    [
                        103.813238352718,
                        1.26373232572168
                    ],
                    [
                        103.814659871324,
                        1.26435545474099
                    ],
                    [
                        103.814692709896,
                        1.26436897342659
                    ],
                    [
                        103.814725081224,
                        1.26438359000754
                    ],
                    [
                        103.814756948468,
                        1.26439928910936
                    ],
                    [
                        103.814788275686,
                        1.26441605174016
                    ],
                    [
                        103.814819027837,
                        1.26443386071677
                    ],
                    [
                        103.814849170776,
                        1.26445269523859
                    ],
                    [
                        103.814878671257,
                        1.26447253450496
                    ],
                    [
                        103.814907495137,
                        1.26449335590657
                    ],
                    [
                        103.814935610967,
                        1.26451513683409
                    ],
                    [
                        103.815049021774,
                        1.2644123475136
                    ],
                    [
                        103.814825090637,
                        1.26425042569258
                    ],
                    [
                        103.813379655904,
                        1.26361538699653
                    ],
                    [
                        103.813343181909,
                        1.2635989462629
                    ],
                    [
                        103.813306201133,
                        1.26358369747791
                    ],
                    [
                        103.813268751315,
                        1.26356965511166
                    ],
                    [
                        103.813230871989,
                        1.26355683453865
                    ],
                    [
                        103.813192601792,
                        1.26354524932465
                    ],
                    [
                        103.81315398026,
                        1.26353491032232
                    ],
                    [
                        103.813136764413,
                        1.26353089480707
                    ],
                    [
                        103.813436669108,
                        1.26308606892813
                    ],
                    [
                        103.813446381747,
                        1.26303269790189
                    ],
                    [
                        103.813415375644,
                        1.26297473962254
                    ],
                    [
                        103.811546119302,
                        1.26272060248707
                    ],
                    [
                        103.81145752955,
                        1.26260022804363
                    ],
                    [
                        103.811311355591,
                        1.26258685214775
                    ],
                    [
                        103.811293635263,
                        1.26284543255918
                    ],
                    [
                        103.811187326197,
                        1.2628632648233
                    ],
                    [
                        103.811182078935,
                        1.26294989932761
                    ],
                    [
                        103.811030194113,
                        1.26291026422452
                    ],
                    [
                        103.810886118233,
                        1.26289447005047
                    ],
                    [
                        103.8106602126,
                        1.26293013442395
                    ],
                    [
                        103.810531756081,
                        1.26299700746688
                    ],
                    [
                        103.810416587752,
                        1.26308617140954
                    ],
                    [
                        103.810322783382,
                        1.26322440005115
                    ],
                    [
                        103.810296987375,
                        1.26343391677128
                    ],
                    [
                        103.810265177261,
                        1.26366902515742
                    ],
                    [
                        103.81034195818,
                        1.26382367768132
                    ],
                    [
                        103.810496312028,
                        1.26388420367844
                    ],
                    [
                        103.810669062766,
                        1.26390649689385
                    ],
                    [
                        103.81081080789,
                        1.26392433130794
                    ],
                    [
                        103.810828525934,
                        1.26393770611632
                    ],
                    [
                        103.810900800962,
                        1.2639633789545
                    ],
                    [
                        103.810951429329,
                        1.26400301228536
                    ],
                    [
                        103.811024558793,
                        1.26403698448503
                    ],
                    [
                        103.811131440203,
                        1.26413323787696
                    ],
                    [
                        103.811193318573,
                        1.2642351522036
                    ],
                    [
                        103.811232696137,
                        1.26430875790324
                    ],
                    [
                        103.811249327605,
                        1.26435233035078
                    ],
                    [
                        103.81128894823,
                        1.26447861531216
                    ],
                    [
                        103.81128894694,
                        1.2646314873608
                    ],
                    [
                        103.811350826227,
                        1.26473340258795
                    ],
                    [
                        103.811485834445,
                        1.264829656205
                    ],
                    [
                        103.811637719955,
                        1.26490892417395
                    ],
                    [
                        103.811811872293,
                        1.26495420266634
                    ],
                    [
                        103.811940328293,
                        1.26495866135026
                    ],
                    [
                        103.812048373526,
                        1.26492591337938
                    ],
                    [
                        103.812149631343,
                        1.26488061818831
                    ],
                    [
                        103.812222761626,
                        1.26481833788422
                    ],
                    [
                        103.812267765092,
                        1.26476171957758
                    ],
                    [
                        103.812318394314,
                        1.26469943908673
                    ],
                    [
                        103.812352147249,
                        1.26464281978246
                    ],
                    [
                        103.812361136569,
                        1.26459308611151
                    ],
                    [
                        103.812387714081,
                        1.26450392046093
                    ],
                    [
                        103.812442156069,
                        1.26429178219686
                    ],
                    [
                        103.812520911634,
                        1.26428045927924
                    ]
                ]
            ],
            [
                [
                    [
                        103.823633288841,
                        1.25993705043506
                    ],
                    [
                        103.823636915288,
                        1.26018663893009
                    ],
                    [
                        103.823636912537,
                        1.26093035711007
                    ],
                    [
                        103.823633288841,
                        1.25993705043506
                    ],
                    [
                        103.823521563691,
                        1.2592169294266
                    ],
                    [
                        103.823491244285,
                        1.25881256597982
                    ],
                    [
                        103.823480373234,
                        1.25850068750074
                    ],
                    [
                        103.823191734103,
                        1.25864666085961
                    ],
                    [
                        103.823203194692,
                        1.25869049276681
                    ],
                    [
                        103.823241094967,
                        1.25885834216925
                    ],
                    [
                        103.82330173587,
                        1.25910248661021
                    ],
                    [
                        103.823339637114,
                        1.25925507665882
                    ],
                    [
                        103.823332055511,
                        1.25943818433099
                    ],
                    [
                        103.823286574311,
                        1.25950684988206
                    ],
                    [
                        103.823241092268,
                        1.25956025608037
                    ],
                    [
                        103.823218351142,
                        1.25961366236676
                    ],
                    [
                        103.823218350937,
                        1.25966706874186
                    ],
                    [
                        103.823225930797,
                        1.25970521579464
                    ],
                    [
                        103.823225930562,
                        1.25976625229782
                    ],
                    [
                        103.82323351135,
                        1.25979677012681
                    ],
                    [
                        103.823203190215,
                        1.25985017638337
                    ],
                    [
                        103.823172868121,
                        1.25991884199142
                    ],
                    [
                        103.823150126902,
                        1.25999513685263
                    ],
                    [
                        103.823142546598,
                        1.26007143177332
                    ],
                    [
                        103.8231577062,
                        1.26017824458272
                    ],
                    [
                        103.823180447521,
                        1.26030794599727
                    ],
                    [
                        103.823248669047,
                        1.26039950056616
                    ],
                    [
                        103.823339632084,
                        1.26057497939513
                    ],
                    [
                        103.823316890806,
                        1.26066653360918
                    ],
                    [
                        103.823324470613,
                        1.2607199400132
                    ],
                    [
                        103.823339631299,
                        1.26078097567016
                    ],
                    [
                        103.823362372055,
                        1.26082675290886
                    ],
                    [
                        103.823400272948,
                        1.26084201240641
                    ],
                    [
                        103.823377531438,
                        1.26099460131472
                    ],
                    [
                        103.823362370835,
                        1.26114719206061
                    ],
                    [
                        103.823347209536,
                        1.26124637462303
                    ],
                    [
                        103.823362369848,
                        1.26140659470916
                    ],
                    [
                        103.823385110146,
                        1.2615744431435
                    ],
                    [
                        103.823407849346,
                        1.26179569885604
                    ],
                    [
                        103.823407847899,
                        1.26217717360318
                    ],
                    [
                        103.82335478446,
                        1.26258153671993
                    ],
                    [
                        103.823248618352,
                        1.26306427732889
                    ],
                    [
                        103.821429995559,
                        1.26307772925183
                    ],
                    [
                        103.820736169657,
                        1.26309016459742
                    ],
                    [
                        103.820516413857,
                        1.26309016351612
                    ],
                    [
                        103.820133226755,
                        1.26308816384353
                    ],
                    [
                        103.819900637233,
                        1.26308584656534
                    ],
                    [
                        103.819549888003,
                        1.2630910909387
                    ],
                    [
                        103.819547083358,
                        1.26383472768325
                    ],
                    [
                        103.819479650894,
                        1.26389215631047
                    ],
                    [
                        103.818587472181,
                        1.26402267023237
                    ],
                    [
                        103.818571910393,
                        1.26420017529344
                    ],
                    [
                        103.818440822479,
                        1.26421928648624
                    ],
                    [
                        103.818395742512,
                        1.26416549368957
                    ],
                    [
                        103.818328588283,
                        1.26411455132239
                    ],
                    [
                        103.818240785703,
                        1.26407712908992
                    ],
                    [
                        103.818115830577,
                        1.26404480001949
                    ],
                    [
                        103.817940214337,
                        1.26402266373954
                    ],
                    [
                        103.817822007913,
                        1.26402094202509
                    ],
                    [
                        103.817749393872,
                        1.26402773065583
                    ],
                    [
                        103.817710554817,
                        1.26402602297983
                    ],
                    [
                        103.817685226137,
                        1.26401751727332
                    ],
                    [
                        103.817668342794,
                        1.26400391099909
                    ],
                    [
                        103.817656525398,
                        1.2639869061518
                    ],
                    [
                        103.817616024836,
                        1.26385597465031
                    ],
                    [
                        103.817604219459,
                        1.26378285937922
                    ],
                    [
                        103.817555245774,
                        1.26364677023126
                    ],
                    [
                        103.818245128731,
                        1.26353713818338
                    ],
                    [
                        103.818239941088,
                        1.26345360647706
                    ],
                    [
                        103.816918921351,
                        1.26364948207154
                    ],
                    [
                        103.816804109429,
                        1.26367472307105
                    ],
                    [
                        103.816749589734,
                        1.26372959597344
                    ],
                    [
                        103.816734720156,
                        1.26383435300011
                    ],
                    [
                        103.816843757926,
                        1.26383934217651
                    ],
                    [
                        103.816823930912,
                        1.26412368345582
                    ],
                    [
                        103.816724805645,
                        1.26413365977459
                    ],
                    [
                        103.816724804251,
                        1.26435315187758
                    ],
                    [
                        103.816818972716,
                        1.26442299026184
                    ],
                    [
                        103.817641703425,
                        1.26634354744678
                    ],
                    [
                        103.817636745855,
                        1.26655306256207
                    ],
                    [
                        103.817502926058,
                        1.26660793408968
                    ],
                    [
                        103.817349282269,
                        1.26645827972401
                    ],
                    [
                        103.816526551773,
                        1.26453273397233
                    ],
                    [
                        103.816551333623,
                        1.26448285026378
                    ],
                    [
                        103.816119896617,
                        1.26384514799551
                    ],
                    [
                        103.816074708662,
                        1.26382447390942
                    ],
                    [
                        103.815984332535,
                        1.26381620378979
                    ],
                    [
                        103.815783039528,
                        1.26384514572687
                    ],
                    [
                        103.815647473991,
                        1.26389889573618
                    ],
                    [
                        103.815532449546,
                        1.26398985778727
                    ],
                    [
                        103.815068240493,
                        1.26441159250496
                    ],
                    [
                        103.814912134715,
                        1.26455630517041
                    ],
                    [
                        103.814604031142,
                        1.26485400001516
                    ],
                    [
                        103.814361656672,
                        1.26506900107459
                    ],
                    [
                        103.813954960187,
                        1.26541631128804
                    ],
                    [
                        103.813946743788,
                        1.2654452545236
                    ],
                    [
                        103.813692044806,
                        1.26567679445167
                    ],
                    [
                        103.813252483909,
                        1.26607372047537
                    ],
                    [
                        103.812956705024,
                        1.26627218285779
                    ],
                    [
                        103.812923841334,
                        1.26625150971844
                    ],
                    [
                        103.812422661331,
                        1.26644583564603
                    ],
                    [
                        103.811744673112,
                        1.2664411038411
                    ],
                    [
                        103.811525178449,
                        1.26644885692164
                    ],
                    [
                        103.8112190115,
                        1.26642928656615
                    ],
                    [
                        103.811195866536,
                        1.26638761594246
                    ],
                    [
                        103.810920954676,
                        1.26599605699319
                    ],
                    [
                        103.81018244676,
                        1.26498076512601
                    ],
                    [
                        103.809911173188,
                        1.26520934454096
                    ],
                    [
                        103.809891147419,
                        1.2652280520528
                    ],
                    [
                        103.809779254999,
                        1.26512031493809
                    ],
                    [
                        103.809774741206,
                        1.26507202542474
                    ],
                    [
                        103.809719092883,
                        1.26501601487978
                    ],
                    [
                        103.809632376244,
                        1.26503173646924
                    ],
                    [
                        103.809616932862,
                        1.26506484332017
                    ],
                    [
                        103.809539967391,
                        1.26504849078803
                    ],
                    [
                        103.809514936922,
                        1.26505302866036
                    ],
                    [
                        103.80941926122,
                        1.26504597011054
                    ],
                    [
                        103.809271340555,
                        1.26501477266477
                    ],
                    [
                        103.809098543896,
                        1.26499632561857
                    ],
                    [
                        103.809025115948,
                        1.26498063509957
                    ],
                    [
                        103.80874754364,
                        1.26491445284839
                    ],
                    [
                        103.808502397558,
                        1.26494665041415
                    ],
                    [
                        103.808323758433,
                        1.26504471983325
                    ],
                    [
                        103.808161360197,
                        1.26515096214444
                    ],
                    [
                        103.80810993302,
                        1.26520816996058
                    ],
                    [
                        103.808066627043,
                        1.26523813566951
                    ],
                    [
                        103.807961068361,
                        1.26523268583392
                    ],
                    [
                        103.807912347877,
                        1.26525720359242
                    ],
                    [
                        103.807882574648,
                        1.26529261823047
                    ],
                    [
                        103.807836561282,
                        1.2653334806021
                    ],
                    [
                        103.807787841613,
                        1.26536617110429
                    ],
                    [
                        103.807690402005,
                        1.26545879248265
                    ],
                    [
                        103.807568601942,
                        1.26558410459813
                    ],
                    [
                        103.807441388861,
                        1.26573393489136
                    ],
                    [
                        103.807333122966,
                        1.26581021155885
                    ],
                    [
                        103.807205910543,
                        1.26580203752613
                    ],
                    [
                        103.807062458826,
                        1.2658047600149
                    ],
                    [
                        103.806941070619,
                        1.2657153008025
                    ],
                    [
                        103.806919707052,
                        1.26554231365599
                    ],
                    [
                        103.806372917679,
                        1.26499674803068
                    ],
                    [
                        103.806572619416,
                        1.2647191851327
                    ],
                    [
                        103.805526848224,
                        1.26375625420336
                    ],
                    [
                        103.805673983834,
                        1.26366634201181
                    ],
                    [
                        103.805578891148,
                        1.26350841626098
                    ],
                    [
                        103.805246056801,
                        1.26368069418458
                    ],
                    [
                        103.805483801904,
                        1.26294371347985
                    ],
                    [
                        103.805417549219,
                        1.26255320978412
                    ],
                    [
                        103.805416952623,
                        1.26255054823161
                    ],
                    [
                        103.805410586592,
                        1.26254422393864
                    ],
                    [
                        103.805148490349,
                        1.26228379201978
                    ],
                    [
                        103.804152472785,
                        1.26305376813461
                    ],
                    [
                        103.803471578642,
                        1.26368839482966
                    ],
                    [
                        103.802363030815,
                        1.26481425369561
                    ],
                    [
                        103.800935855619,
                        1.26589398726388
                    ],
                    [
                        103.801149813693,
                        1.26630674841594
                    ],
                    [
                        103.801142681017,
                        1.26638930056344
                    ],
                    [
                        103.80110345318,
                        1.26643595897103
                    ],
                    [
                        103.801035697766,
                        1.26648620734902
                    ],
                    [
                        103.80094916732,
                        1.26655091718818
                    ],
                    [
                        103.800852061762,
                        1.26663731175235
                    ],
                    [
                        103.800818752769,
                        1.2666666317462
                    ],
                    [
                        103.800515465902,
                        1.26691682948929
                    ],
                    [
                        103.800514884545,
                        1.26691729432543
                    ],
                    [
                        103.80031841016,
                        1.26707434562839
                    ],
                    [
                        103.800224645336,
                        1.26708782669589
                    ],
                    [
                        103.799789574831,
                        1.26741738066934
                    ],
                    [
                        103.799785343596,
                        1.26742058568333
                    ],
                    [
                        103.799521804116,
                        1.26766755433385
                    ],
                    [
                        103.799361925091,
                        1.26782470461622
                    ],
                    [
                        103.799305720361,
                        1.26786714842998
                    ],
                    [
                        103.799115018766,
                        1.26803522572885
                    ],
                    [
                        103.800284549401,
                        1.27008243640507
                    ],
                    [
                        103.800454421419,
                        1.27025669522505
                    ],
                    [
                        103.801575487015,
                        1.27230994677164
                    ],
                    [
                        103.801569129036,
                        1.27252570734791
                    ],
                    [
                        103.801554816147,
                        1.27275589154022
                    ],
                    [
                        103.801749241663,
                        1.27271981069015
                    ],
                    [
                        103.801982858434,
                        1.27269673597592
                    ],
                    [
                        103.802209053052,
                        1.27269417847582
                    ],
                    [
                        103.802119568935,
                        1.27350629612681
                    ],
                    [
                        103.80206192067,
                        1.27402949219643
                    ],
                    [
                        103.80196303673,
                        1.27492693201764
                    ],
                    [
                        103.802013066612,
                        1.27534896352863
                    ],
                    [
                        103.80209436655,
                        1.27576470737118
                    ],
                    [
                        103.802175846658,
                        1.27606928306925
                    ],
                    [
                        103.802433031357,
                        1.27673082002693
                    ],
                    [
                        103.80271879279,
                        1.27750740697796
                    ],
                    [
                        103.802890249069,
                        1.27795322562047
                    ],
                    [
                        103.80307872309,
                        1.2785280855576
                    ],
                    [
                        103.803116375732,
                        1.27873019345573
                    ],
                    [
                        103.803127891742,
                        1.27893045704386
                    ],
                    [
                        103.803094956501,
                        1.27910514738079
                    ],
                    [
                        103.80302462544,
                        1.27932040888742
                    ],
                    [
                        103.802749284067,
                        1.27990967253246
                    ],
                    [
                        103.801995231413,
                        1.28136489667548
                    ],
                    [
                        103.801924996402,
                        1.28150115012355
                    ],
                    [
                        103.801693405727,
                        1.28198067493088
                    ],
                    [
                        103.801612183894,
                        1.28214596557688
                    ],
                    [
                        103.801606849129,
                        1.28215746450868
                    ],
                    [
                        103.801476485678,
                        1.28243815238779
                    ],
                    [
                        103.801420731791,
                        1.28254773718755
                    ],
                    [
                        103.801380067436,
                        1.28262702685957
                    ],
                    [
                        103.801337895339,
                        1.28270566175176
                    ],
                    [
                        103.801303462424,
                        1.28277875208014
                    ],
                    [
                        103.801272646785,
                        1.28294321404501
                    ],
                    [
                        103.80125689818,
                        1.28308057419559
                    ],
                    [
                        103.8012621458,
                        1.28321265131182
                    ],
                    [
                        103.80129363775,
                        1.28336057775163
                    ],
                    [
                        103.801335627972,
                        1.28352963661497
                    ],
                    [
                        103.801393365425,
                        1.28367228008471
                    ],
                    [
                        103.801456352086,
                        1.28382020691802
                    ],
                    [
                        103.801590136596,
                        1.28410255037223
                    ],
                    [
                        103.801619068808,
                        1.28416360892151
                    ],
                    [
                        103.801755540275,
                        1.28442248142167
                    ],
                    [
                        103.801902510239,
                        1.28468663643927
                    ],
                    [
                        103.802242370402,
                        1.28526643882964
                    ],
                    [
                        103.802485268041,
                        1.28572454143968
                    ],
                    [
                        103.802738574365,
                        1.28619004366506
                    ],
                    [
                        103.802896658615,
                        1.2864504592121
                    ],
                    [
                        103.803017115852,
                        1.28661565282876
                    ],
                    [
                        103.803187521266,
                        1.28677177625566
                    ],
                    [
                        103.803678539231,
                        1.28709426224725
                    ],
                    [
                        103.804354633046,
                        1.28751843885346
                    ],
                    [
                        103.804878927806,
                        1.28784560418108
                    ],
                    [
                        103.805067058001,
                        1.28800425176575
                    ],
                    [
                        103.806405354088,
                        1.28957258771976
                    ],
                    [
                        103.806637462402,
                        1.28984700881948
                    ],
                    [
                        103.808130357133,
                        1.29160827454948
                    ],
                    [
                        103.808381856314,
                        1.29188672191757
                    ],
                    [
                        103.808662088825,
                        1.29219698238171
                    ],
                    [
                        103.80887440264,
                        1.29238707740172
                    ],
                    [
                        103.808946200252,
                        1.29242959318889
                    ],
                    [
                        103.80903353551,
                        1.29246688551276
                    ],
                    [
                        103.809155276081,
                        1.29249085958343
                    ],
                    [
                        103.809284686825,
                        1.29249212331311
                    ],
                    [
                        103.809578721422,
                        1.29248020928313
                    ],
                    [
                        103.810272114108,
                        1.29236034939715
                    ],
                    [
                        103.810856998611,
                        1.29225913545313
                    ],
                    [
                        103.811964133518,
                        1.29207934649481
                    ],
                    [
                        103.813938869181,
                        1.29176826546528
                    ],
                    [
                        103.814533029928,
                        1.29167207538672
                    ],
                    [
                        103.81536376184,
                        1.2915226686098
                    ],
                    [
                        103.815594725733,
                        1.2924344354765
                    ],
                    [
                        103.815732400914,
                        1.29300998144166
                    ],
                    [
                        103.815754336402,
                        1.29310165434228
                    ],
                    [
                        103.815776166707,
                        1.29320120425942
                    ],
                    [
                        103.815962433408,
                        1.29403461751054
                    ],
                    [
                        103.815976656856,
                        1.29410605881053
                    ],
                    [
                        103.816156156791,
                        1.29413310506961
                    ],
                    [
                        103.81676943062,
                        1.29422146561596
                    ],
                    [
                        103.816828293938,
                        1.29425695327711
                    ],
                    [
                        103.816830011211,
                        1.29423256166517
                    ],
                    [
                        103.817052665702,
                        1.29436692459263
                    ],
                    [
                        103.817226608438,
                        1.29435287278561
                    ],
                    [
                        103.817402067056,
                        1.29433214585949
                    ],
                    [
                        103.817431983307,
                        1.29430626312762
                    ],
                    [
                        103.81786774928,
                        1.29392922801004
                    ],
                    [
                        103.818414502703,
                        1.29393123899487
                    ],
                    [
                        103.818416498367,
                        1.2939312462416
                    ],
                    [
                        103.818550237481,
                        1.29393170011617
                    ],
                    [
                        103.818552553924,
                        1.29393170736467
                    ],
                    [
                        103.818667621319,
                        1.29393208063502
                    ],
                    [
                        103.818865940503,
                        1.2939327510109
                    ],
                    [
                        103.819102674874,
                        1.29381092266054
                    ],
                    [
                        103.821616893093,
                        1.29357188755604
                    ],
                    [
                        103.821690495622,
                        1.29352838342677
                    ],
                    [
                        103.821775431498,
                        1.29347817890828
                    ],
                    [
                        103.821777444239,
                        1.29347698515592
                    ],
                    [
                        103.821825661067,
                        1.29344838755171
                    ],
                    [
                        103.821828176994,
                        1.29344689626559
                    ],
                    [
                        103.8227464099,
                        1.29290354975461
                    ],
                    [
                        103.823162738865,
                        1.29265716631021
                    ],
                    [
                        103.823315968556,
                        1.29256650253902
                    ],
                    [
                        103.82337809572,
                        1.29252888120742
                    ],
                    [
                        103.823491292548,
                        1.29246188630383
                    ],
                    [
                        103.823697293724,
                        1.29233997871772
                    ],
                    [
                        103.823802153842,
                        1.2922779134609
                    ],
                    [
                        103.823802184392,
                        1.29227789446935
                    ],
                    [
                        103.823910184917,
                        1.29221397436752
                    ],
                    [
                        103.824252970519,
                        1.29201211415488
                    ],
                    [
                        103.824388786356,
                        1.29193030036926
                    ],
                    [
                        103.824490138187,
                        1.29196786713775
                    ],
                    [
                        103.824652651856,
                        1.29204531298564
                    ],
                    [
                        103.824781151294,
                        1.29210026082372
                    ],
                    [
                        103.824977784443,
                        1.29217241713607
                    ],
                    [
                        103.825063265382,
                        1.29219714094381
                    ],
                    [
                        103.825208040199,
                        1.29223125496044
                    ],
                    [
                        103.825755161316,
                        1.29235637553927
                    ],
                    [
                        103.825920417529,
                        1.29238925964033
                    ],
                    [
                        103.825937349651,
                        1.29239253529948
                    ],
                    [
                        103.826105739984,
                        1.29242510467863
                    ],
                    [
                        103.827429706721,
                        1.29257895053208
                    ],
                    [
                        103.828597095433,
                        1.29271979063583
                    ],
                    [
                        103.829250938089,
                        1.29254762603252
                    ],
                    [
                        103.829589742611,
                        1.29245841458241
                    ],
                    [
                        103.829845172238,
                        1.29238944808449
                    ],
                    [
                        103.830132522578,
                        1.29231185757805
                    ],
                    [
                        103.830478893665,
                        1.29222139799432
                    ],
                    [
                        103.830721281803,
                        1.29215177120636
                    ],
                    [
                        103.830830168972,
                        1.29212903287105
                    ],
                    [
                        103.830870524311,
                        1.29211812355746
                    ],
                    [
                        103.830916037284,
                        1.29210567954099
                    ],
                    [
                        103.831044835249,
                        1.2920800662395
                    ],
                    [
                        103.831144116981,
                        1.29207469259156
                    ],
                    [
                        103.831284995813,
                        1.29208553694882
                    ],
                    [
                        103.831626736552,
                        1.29212650854854
                    ],
                    [
                        103.831805537455,
                        1.29215476373436
                    ],
                    [
                        103.83181811435,
                        1.29215683292874
                    ],
                    [
                        103.831824375392,
                        1.29215786300407
                    ],
                    [
                        103.831983823497,
                        1.29218407158795
                    ],
                    [
                        103.832220831073,
                        1.29222302993289
                    ],
                    [
                        103.832367465078,
                        1.29224132348561
                    ],
                    [
                        103.832515419044,
                        1.29225962607389
                    ],
                    [
                        103.832674021637,
                        1.29227919838456
                    ],
                    [
                        103.832693930637,
                        1.29228162118314
                    ],
                    [
                        103.832852973518,
                        1.29230096920018
                    ],
                    [
                        103.833025902474,
                        1.29232220823586
                    ],
                    [
                        103.833206498694,
                        1.29234417346506
                    ],
                    [
                        103.833427766537,
                        1.29236954632693
                    ],
                    [
                        103.83351772409,
                        1.29220618908891
                    ],
                    [
                        103.833618057096,
                        1.29201636922618
                    ],
                    [
                        103.833663842303,
                        1.29193030895612
                    ],
                    [
                        103.833710481121,
                        1.29184264524617
                    ],
                    [
                        103.833873083939,
                        1.29154509561149
                    ],
                    [
                        103.833971978329,
                        1.29136355428998
                    ],
                    [
                        103.834148294625,
                        1.29104429716309
                    ],
                    [
                        103.834303511339,
                        1.29077465981857
                    ],
                    [
                        103.83448267414,
                        1.29047002715013
                    ],
                    [
                        103.834518174595,
                        1.29040931983304
                    ],
                    [
                        103.834563547316,
                        1.29033172801848
                    ],
                    [
                        103.834642892051,
                        1.29016968297643
                    ],
                    [
                        103.834776572417,
                        1.2898966687137
                    ],
                    [
                        103.834916730311,
                        1.28957935050837
                    ],
                    [
                        103.835010093913,
                        1.28922069742475
                    ],
                    [
                        103.835047494531,
                        1.28882885689718
                    ],
                    [
                        103.83506234537,
                        1.28846191535736
                    ],
                    [
                        103.835042636528,
                        1.28809449995276
                    ],
                    [
                        103.835025347492,
                        1.28777184156374
                    ],
                    [
                        103.835019644284,
                        1.28751399718916
                    ],
                    [
                        103.835017331372,
                        1.28740941010402
                    ],
                    [
                        103.835002211539,
                        1.28726936649725
                    ],
                    [
                        103.834952502342,
                        1.28705151587884
                    ],
                    [
                        103.834940136594,
                        1.28699732453346
                    ],
                    [
                        103.834871017986,
                        1.2866944057455
                    ],
                    [
                        103.83481895283,
                        1.28646101451847
                    ],
                    [
                        103.834797874819,
                        1.28636652648602
                    ],
                    [
                        103.834788494019,
                        1.28629461410765
                    ],
                    [
                        103.834773325696,
                        1.28617833901663
                    ],
                    [
                        103.834767876883,
                        1.28606123642605
                    ],
                    [
                        103.834767777144,
                        1.28605910483803
                    ],
                    [
                        103.834758273172,
                        1.28585484679515
                    ],
                    [
                        103.834825057871,
                        1.28552995366471
                    ],
                    [
                        103.834825158507,
                        1.28552945988141
                    ],
                    [
                        103.834914382387,
                        1.2851455994294
                    ],
                    [
                        103.835051532572,
                        1.28479657146008
                    ],
                    [
                        103.835069520406,
                        1.28475036382706
                    ],
                    [
                        103.835094101715,
                        1.2846907471708
                    ],
                    [
                        103.835094119686,
                        1.28469070466564
                    ],
                    [
                        103.83534290326,
                        1.2840690530828
                    ],
                    [
                        103.835485210131,
                        1.28382177698883
                    ],
                    [
                        103.835537251684,
                        1.28376552182887
                    ],
                    [
                        103.835636275113,
                        1.28365848653551
                    ],
                    [
                        103.835974522656,
                        1.28329013927895
                    ],
                    [
                        103.835974971925,
                        1.28328965001705
                    ],
                    [
                        103.836412945461,
                        1.28287152906342
                    ],
                    [
                        103.836755535574,
                        1.28261362274064
                    ],
                    [
                        103.836962760028,
                        1.28248380086827
                    ],
                    [
                        103.837126403572,
                        1.28238132794408
                    ],
                    [
                        103.8373784839,
                        1.28222399157189
                    ],
                    [
                        103.83768507848,
                        1.28203086574431
                    ],
                    [
                        103.837940368315,
                        1.28187125754605
                    ],
                    [
                        103.838108850412,
                        1.28176889126472
                    ],
                    [
                        103.838105346106,
                        1.28176580648252
                    ],
                    [
                        103.838206840417,
                        1.28170402731309
                    ],
                    [
                        103.838585120201,
                        1.28147374992709
                    ],
                    [
                        103.838966208534,
                        1.28114518971511
                    ],
                    [
                        103.839241684321,
                        1.28079201197501
                    ],
                    [
                        103.839614605855,
                        1.27980700573188
                    ],
                    [
                        103.839598182284,
                        1.2797677500033
                    ],
                    [
                        103.839596021287,
                        1.27976258246734
                    ],
                    [
                        103.839681620756,
                        1.27950079211821
                    ],
                    [
                        103.839716896263,
                        1.27942399788093
                    ],
                    [
                        103.839741017336,
                        1.27935382271823
                    ],
                    [
                        103.839800398722,
                        1.27924221850794
                    ],
                    [
                        103.839832392779,
                        1.27917256785597
                    ],
                    [
                        103.839867934271,
                        1.27910634473763
                    ],
                    [
                        103.839950875193,
                        1.27895180483299
                    ],
                    [
                        103.840038679866,
                        1.27878856944378
                    ],
                    [
                        103.840140612164,
                        1.27859906402071
                    ],
                    [
                        103.840157925998,
                        1.27856663616048
                    ],
                    [
                        103.840190009019,
                        1.27850692899612
                    ],
                    [
                        103.840308057377,
                        1.27828568302603
                    ],
                    [
                        103.840455581104,
                        1.2779814985627
                    ],
                    [
                        103.84047809646,
                        1.27791224132731
                    ],
                    [
                        103.840484967516,
                        1.27789110449038
                    ],
                    [
                        103.840596776932,
                        1.27754717418256
                    ],
                    [
                        103.840666298193,
                        1.27710520088136
                    ],
                    [
                        103.840711931348,
                        1.27680955027924
                    ],
                    [
                        103.840805662325,
                        1.27622259091964
                    ],
                    [
                        103.840891107219,
                        1.27572513477084
                    ],
                    [
                        103.841003349975,
                        1.2752097567366
                    ],
                    [
                        103.841005890109,
                        1.27520038750788
                    ],
                    [
                        103.841134950839,
                        1.27472436828361
                    ],
                    [
                        103.841356986455,
                        1.27418983725196
                    ],
                    [
                        103.841371815783,
                        1.27415461218956
                    ],
                    [
                        103.841428824772,
                        1.27401919149371
                    ],
                    [
                        103.841534821621,
                        1.27378617428456
                    ],
                    [
                        103.841588613915,
                        1.27367608214521
                    ],
                    [
                        103.841679124675,
                        1.27350591834574
                    ],
                    [
                        103.841753836599,
                        1.273375333224
                    ],
                    [
                        103.841871651959,
                        1.27318105443531
                    ],
                    [
                        103.841953615934,
                        1.27304717649046
                    ],
                    [
                        103.842023317507,
                        1.27288956804731
                    ],
                    [
                        103.842039006715,
                        1.27285362310337
                    ],
                    [
                        103.842154517048,
                        1.27258899013923
                    ],
                    [
                        103.843315051118,
                        1.2726167390352
                    ],
                    [
                        103.843943284682,
                        1.27263176072712
                    ],
                    [
                        103.844001164746,
                        1.27263314416529
                    ],
                    [
                        103.844089260749,
                        1.27263215803929
                    ],
                    [
                        103.844759396522,
                        1.27262466066693
                    ],
                    [
                        103.844759444144,
                        1.27262465976236
                    ],
                    [
                        103.845139280206,
                        1.27262041114302
                    ],
                    [
                        103.845463778025,
                        1.27258619478764
                    ],
                    [
                        103.845676606811,
                        1.27256375557216
                    ],
                    [
                        103.845571336117,
                        1.27235522398284
                    ],
                    [
                        103.845820929194,
                        1.27229931041447
                    ],
                    [
                        103.845866341119,
                        1.27228913699124
                    ],
                    [
                        103.846036250364,
                        1.27225107414621
                    ],
                    [
                        103.846196363816,
                        1.272221819854
                    ],
                    [
                        103.846261929889,
                        1.27221271799509
                    ],
                    [
                        103.846298026717,
                        1.27220681050079
                    ],
                    [
                        103.846303398157,
                        1.27220602458046
                    ],
                    [
                        103.8463256899,
                        1.27220228310969
                    ],
                    [
                        103.846327034108,
                        1.27220206334218
                    ],
                    [
                        103.846368919294,
                        1.27219502988315
                    ],
                    [
                        103.846469717789,
                        1.2721772667362
                    ],
                    [
                        103.846510880545,
                        1.27216880799935
                    ],
                    [
                        103.846609162214,
                        1.27214597046798
                    ],
                    [
                        103.846682067478,
                        1.27212853755019
                    ],
                    [
                        103.846723834934,
                        1.27211763521263
                    ],
                    [
                        103.846778488261,
                        1.27210238642877
                    ],
                    [
                        103.846851048464,
                        1.27208102132908
                    ],
                    [
                        103.846918819473,
                        1.27205965625273
                    ],
                    [
                        103.846989327415,
                        1.27203760203392
                    ],
                    [
                        103.847050934463,
                        1.27201486054341
                    ],
                    [
                        103.847134443268,
                        1.2719849862071
                    ],
                    [
                        103.847150570144,
                        1.27197880207255
                    ],
                    [
                        103.847239779219,
                        1.27194250761515
                    ],
                    [
                        103.847274566831,
                        1.27192835411441
                    ],
                    [
                        103.847276265958,
                        1.27192784585206
                    ],
                    [
                        103.847276712529,
                        1.2719276477937
                    ],
                    [
                        103.847394635104,
                        1.27187542640309
                    ],
                    [
                        103.847455796437,
                        1.27184647010923
                    ],
                    [
                        103.847459480422,
                        1.2718446948205
                    ],
                    [
                        103.847467255426,
                        1.27184091543643
                    ],
                    [
                        103.847475028633,
                        1.27183713424363
                    ],
                    [
                        103.847482785666,
                        1.27183333677231
                    ],
                    [
                        103.847490540902,
                        1.27182952121368
                    ],
                    [
                        103.847498280862,
                        1.27182568666346
                    ],
                    [
                        103.847506019924,
                        1.27182183493026
                    ],
                    [
                        103.847513741016,
                        1.27181796601422
                    ],
                    [
                        103.847521463006,
                        1.27181409800252
                    ],
                    [
                        103.847529166126,
                        1.27181019381629
                    ],
                    [
                        103.847536870145,
                        1.27180628872567
                    ],
                    [
                        103.847544574163,
                        1.27180235017353
                    ],
                    [
                        103.847552260211,
                        1.27179840981274
                    ],
                    [
                        103.847559929187,
                        1.27179443599051
                    ],
                    [
                        103.847567597264,
                        1.27179046035953
                    ],
                    [
                        103.847575266239,
                        1.2717864675456
                    ],
                    [
                        103.847582917244,
                        1.2717824575488
                    ],
                    [
                        103.84759056735,
                        1.27177843036905
                    ],
                    [
                        103.847598203079,
                        1.271774402285
                    ],
                    [
                        103.847605836112,
                        1.27177033802633
                    ],
                    [
                        103.847613451175,
                        1.27176625748918
                    ],
                    [
                        103.847621068035,
                        1.27176217876072
                    ],
                    [
                        103.847628666924,
                        1.27175806024028
                    ],
                    [
                        103.847636266711,
                        1.27175394443291
                    ],
                    [
                        103.847643845832,
                        1.27174981053833
                    ],
                    [
                        103.847651428547,
                        1.27174565946077
                    ],
                    [
                        103.847658990595,
                        1.27174149120038
                    ],
                    [
                        103.847666554441,
                        1.27173730394829
                    ],
                    [
                        103.847674099417,
                        1.27173309860899
                    ],
                    [
                        103.847681647088,
                        1.27172887699106
                    ],
                    [
                        103.847689192064,
                        1.27172465446877
                    ],
                    [
                        103.847696701997,
                        1.2717203975808
                    ],
                    [
                        103.847704230799,
                        1.27171613888395
                    ],
                    [
                        103.84771174163,
                        1.27171186662173
                    ],
                    [
                        103.847719233592,
                        1.27170757265482
                    ],
                    [
                        103.847726727351,
                        1.27170324432199
                    ],
                    [
                        103.847734203139,
                        1.27169893407656
                    ],
                    [
                        103.847741678927,
                        1.27169458856087
                    ],
                    [
                        103.847749137642,
                        1.27169022586232
                    ],
                    [
                        103.847756596358,
                        1.27168586135502
                    ],
                    [
                        103.847764053276,
                        1.27168146157747
                    ],
                    [
                        103.847771477847,
                        1.27167706360882
                    ],
                    [
                        103.847778916794,
                        1.27167264664841
                    ],
                    [
                        103.847786323394,
                        1.27166819622664
                    ],
                    [
                        103.847793743472,
                        1.27166376117898
                    ],
                    [
                        103.847801133898,
                        1.27165929086123
                    ],
                    [
                        103.847808522527,
                        1.27165480516926
                    ],
                    [
                        103.847815906663,
                        1.27165029686819
                    ],
                    [
                        103.847823280017,
                        1.27164579670643
                    ],
                    [
                        103.847830649776,
                        1.27164127212682
                    ],
                    [
                        103.847838004261,
                        1.27163671499013
                    ],
                    [
                        103.84784533718,
                        1.27163215694917
                    ],
                    [
                        103.847852673693,
                        1.27162758262961
                    ],
                    [
                        103.847860008409,
                        1.27162298931838
                    ],
                    [
                        103.847867308981,
                        1.27161839600732
                    ],
                    [
                        103.847874627523,
                        1.27161376742589
                    ],
                    [
                        103.847881925399,
                        1.27160913974893
                    ],
                    [
                        103.847889208898,
                        1.27160449398474
                    ],
                    [
                        103.847896492397,
                        1.27159981114156
                    ],
                    [
                        103.847903758824,
                        1.27159513010719
                    ],
                    [
                        103.847911005483,
                        1.27159044907289
                    ],
                    [
                        103.848302710462,
                        1.27133152441167
                    ],
                    [
                        103.848342843373,
                        1.27130499282191
                    ],
                    [
                        103.848375907538,
                        1.27128354832598
                    ],
                    [
                        103.848846835067,
                        1.27097812790446
                    ],
                    [
                        103.850164408409,
                        1.27008350458765
                    ],
                    [
                        103.85128895755,
                        1.26942455766071
                    ],
                    [
                        103.851564418279,
                        1.26926314556481
                    ],
                    [
                        103.851564509394,
                        1.26918669778405
                    ],
                    [
                        103.851565436718,
                        1.26842183381015
                    ],
                    [
                        103.851566514129,
                        1.26753259703584
                    ],
                    [
                        103.85156911834,
                        1.26538440458343
                    ],
                    [
                        103.851570622788,
                        1.26414065037085
                    ],
                    [
                        103.851587570907,
                        1.26414069366052
                    ],
                    [
                        103.851572510953,
                        1.26354658111971
                    ],
                    [
                        103.8512344175,
                        1.26354331149365
                    ],
                    [
                        103.851232393094,
                        1.26354147745543
                    ],
                    [
                        103.85121830321,
                        1.26354149202293
                    ],
                    [
                        103.85066856978,
                        1.26304285603113
                    ],
                    [
                        103.850668613808,
                        1.26304280809948
                    ],
                    [
                        103.850760158273,
                        1.2629407245683
                    ],
                    [
                        103.851958166949,
                        1.26160483703227
                    ],
                    [
                        103.852004959406,
                        1.2615526584502
                    ],
                    [
                        103.852004977377,
                        1.26155263674531
                    ],
                    [
                        103.852027025369,
                        1.26152805142273
                    ],
                    [
                        103.852043201504,
                        1.26151001284091
                    ],
                    [
                        103.852056611082,
                        1.26149505997249
                    ],
                    [
                        103.852056399027,
                        1.26149484925698
                    ],
                    [
                        103.852051174928,
                        1.26148962658676
                    ],
                    [
                        103.852066953016,
                        1.26147209987828
                    ],
                    [
                        103.852069166962,
                        1.26146704627047
                    ],
                    [
                        103.852051839564,
                        1.26145091161951
                    ],
                    [
                        103.852050833216,
                        1.26145189648032
                    ],
                    [
                        103.852021421392,
                        1.26142514647989
                    ],
                    [
                        103.851259734168,
                        1.26073245257031
                    ],
                    [
                        103.851202839683,
                        1.26067651075144
                    ],
                    [
                        103.845716388956,
                        1.26679122887465
                    ],
                    [
                        103.844318617947,
                        1.26554278914269
                    ],
                    [
                        103.846247051538,
                        1.26306226337235
                    ],
                    [
                        103.846749085364,
                        1.26247239323654
                    ],
                    [
                        103.846692102214,
                        1.26228599937428
                    ],
                    [
                        103.846079540189,
                        1.26162645265499
                    ],
                    [
                        103.845851610364,
                        1.2615834394536
                    ],
                    [
                        103.845580946826,
                        1.26182718793215
                    ],
                    [
                        103.839574765869,
                        1.26760126099936
                    ],
                    [
                        103.839433076218,
                        1.26765611107806
                    ],
                    [
                        103.832074070791,
                        1.26740346644473
                    ],
                    [
                        103.824648540234,
                        1.26311301412706
                    ],
                    [
                        103.824495080118,
                        1.26305684711039
                    ],
                    [
                        103.824133442489,
                        1.26306048772551
                    ],
                    [
                        103.824125380566,
                        1.26288834904376
                    ],
                    [
                        103.824104731163,
                        1.26168128207449
                    ],
                    [
                        103.824132633626,
                        1.26132322324479
                    ],
                    [
                        103.824202390163,
                        1.26082475012826
                    ],
                    [
                        103.824418631803,
                        1.26024202777061
                    ],
                    [
                        103.824802282406,
                        1.26043860999522
                    ],
                    [
                        103.826079060023,
                        1.26116816157615
                    ],
                    [
                        103.827574840863,
                        1.26199977152625
                    ],
                    [
                        103.830447788351,
                        1.26366170630554
                    ],
                    [
                        103.830851316531,
                        1.26366298911475
                    ],
                    [
                        103.831321419659,
                        1.26367732732763
                    ],
                    [
                        103.833701394663,
                        1.26377966513127
                    ],
                    [
                        103.836156946293,
                        1.26386391968805
                    ],
                    [
                        103.838401460908,
                        1.26175602668993
                    ],
                    [
                        103.842005574426,
                        1.25837224022522
                    ],
                    [
                        103.842532656862,
                        1.2578417315174
                    ],
                    [
                        103.84062375336,
                        1.25685241281477
                    ],
                    [
                        103.836419633247,
                        1.25478442579246
                    ],
                    [
                        103.83122877152,
                        1.25642247255869
                    ],
                    [
                        103.830375658462,
                        1.25667346288869
                    ],
                    [
                        103.829653793867,
                        1.25668006654414
                    ],
                    [
                        103.829660356025,
                        1.25654136136379
                    ],
                    [
                        103.829437234866,
                        1.25654796561688
                    ],
                    [
                        103.828544746947,
                        1.2568914257125
                    ],
                    [
                        103.828623494614,
                        1.25711599689481
                    ],
                    [
                        103.827890963726,
                        1.25742007104398
                    ],
                    [
                        103.827385485467,
                        1.25751257110964
                    ],
                    [
                        103.826696197532,
                        1.25760507151708
                    ],
                    [
                        103.826114131602,
                        1.25786715858417
                    ],
                    [
                        103.825286984285,
                        1.25839133339064
                    ],
                    [
                        103.824648826952,
                        1.25902041582321
                    ],
                    [
                        103.824317205397,
                        1.25951874698029
                    ],
                    [
                        103.824146589554,
                        1.26005948705987
                    ],
                    [
                        103.824101351502,
                        1.25997626632046
                    ],
                    [
                        103.824058179737,
                        1.25820847389952
                    ],
                    [
                        103.823853278476,
                        1.25831209892732
                    ],
                    [
                        103.823684092056,
                        1.25839766118809
                    ],
                    [
                        103.82361145651,
                        1.25843439532202
                    ],
                    [
                        103.823633288841,
                        1.25993705043506
                    ]
                ]
            ]
        ]
    }
}


function nameSearch(){
    $.ajax({
        url: "https://developers.onemap.sg/commonapi/search?searchVal="+testSearch+"&returnGeom=Y&getAddrDetails=Y&pageNum=1",
        success: function(result) {
        var TrueResult = JSON.stringify(result); //Set result to a variable for writing
        console.log(TrueResult); //document.write(TrueResult);
    }});
}

function GeoXY(){
    $.ajax({
        url: "https://developers.onemap.sg/privateapi/commonsvc/revgeocodexy?location="+testlocationXY.x+","+testlocationXY.y+"&token="+OneMap_Token+"&buffer=10&addressType=all",
        success: function(result){
        var TrueResult = JSON.stringify(result); //Set result to a variable for writing
        console.log(TrueResult); //document.write(TrueResult);
    }});
}

function GeoLatLong(input, PopUp_flag){
    $.ajax({
        url: "https://developers.onemap.sg/privateapi/commonsvc/revgeocode?location="+input.latitude+","+input.longitude+"&token="+OneMap_Token+"&buffer=10&addressType=all",
        success: function(result){
            //Set result to a variable for writing
            var TrueResult = JSON.stringify(result);
            //console.log(TrueResult); //document.write(TrueResult);
            console.log(result.GeocodeInfo[0].BUILDINGNAME);

            var position = {
                latitude: input.latitude,
                longitude: input.longitude,
                name: result.GeocodeInfo[0].BUILDINGNAME
            };
            if (PopUp_flag == 1) { showPopUp(position); }
        }
    });
}

function ThemeDetails(){
    $.ajax({
        url: "https://developers.onemap.sg/privateapi/themesvc/retrieveTheme?queryName=kindergartens&token="+OneMap_Token+"&extents=1.291789,%20103.7796402,1.3290461,%20103.8726032",
                success: function(result){
                    var TrueResult = JSON.stringify(result); //Set result to a variable for writing
                    console.log(TrueResult); //document.write(TrueResult);
            }});
        }

function PlanningDetails(){
    $.ajax({
        url: "https://developers.onemap.sg/privateapi/popapi/getPlanningarea?token="+OneMap_Token+"&lat=1.3&lng=103.8",
                success: function(result){
                    var TrueResult = JSON.stringify(result); //Set result to a variable for writing
                    console.log(result[0]); //document.write(TrueResult);
            }});
        }

function PlanningAreaNames(){
    $.ajax({
        url: "https://developers.onemap.sg/privateapi/popapi/getPlanningareaNames?token="+OneMap_Token,
                success: function(result){
                    var TrueResult = JSON.stringify(result); //Set result to a variable for writing
                    console.log(result); //document.write(TrueResult);
            }});
        }

function getAllPlanningAreas(){
    $.ajax({
        url: "https://developers.onemap.sg//privateapi/popapi/getAllPlanningarea?token="+OneMap_Token,
                success: function(result){
                    var TrueResult = JSON.stringify(result); //Set result to a variable for writing
                    //console.log(result[21].geojson); //document.write(TrueResult);
                    console.log(result)

                    for (i = 0; i < result.length; i++) {

                        var geojsonFeature = {
                            type: "Feature",
                            properties: {
                                name: result[i].pln_area_n,
                                district: i,
                                region: "X",
                                popupContent: result[i].pln_area_n
                            },
                            geometry: JSON.parse(result[i].geojson)
                        }

                        showArea(geojsonFeature)
                        //districts.push(geojsonFeature);
                    }


            }});
        }

function onLocationFound(e) {
    var radius = e.accuracy;
    L.marker(e.latlng).addTo(map)
    .bindPopup("You are within " + radius + " meters from this point").openPopup();
    L.circle(e.latlng, radius).addTo(map);
}

function showPosition(position) {
    marker = new L.Marker([position.latitude, position.longitude], {bounceOnAdd: false}) //.addTo(map);
    marker.bindPopup("<b>Name: "+position.name+"</b><br>Price: $"+position.price); //.openPopup();
}

function showPopUp(position){
    popup = new L.popup()
    .setLatLng([position.latitude, position.longitude])
    .setContent("Name: <b>"+position.name+"</b>") //.setContent(position.name)
    .openOn(OneMap);
}

function onMapClick(e) {
    //popup.setLatLng(e.latlng)
    //.setContent("<b>("+e.latlng.lat.toString()+","+e.latlng.lng.toString()+")</b>")
    //.openOn(OneMap);
    tempLatLong.latitude = e.latlng.lat
    tempLatLong.longitude = e.latlng.lng
    GeoLatLong(tempLatLong, 1)
}

function showArea(data) {
    //L.geoJSON(data).addTo(map);

    area_layer.addData(data);

    //area_layer

}

function csvJSON(csv) {
    var lines=csv.split("\n");
    var result = [];
    var headers=lines[0].split(",");

    for(var i=1;i<lines.length;i++){
        var obj = {};
        var currentline=lines[i].split(",");

        for(var j=0;j<headers.length;j++){
            obj[headers[j]] = currentline[j];
        }
        result.push(obj);
    }

//return result; //JavaScript object
return JSON.stringify(result); //JSON

}

function csv_To_Array(str, delimiter = ",") {
    const header_cols = str.slice(0, str.indexOf("\n")).split(delimiter);
    const row_data = str.slice(str.indexOf("\n") + 1).split("\n");
    const arr = row_data.map(function (row) {
        const values = row.split(delimiter);
        const el = header_cols.reduce(function (object, header, index) {
            object[header] = values[index];
            return object;
        }, {});
        return el;
    });
    // return the array
    return arr;
}

function onEachFeature(feature, layer) {
    // does this feature have a property named popupContent?
    if (feature.properties && feature.properties.popupContent) {
        layer.bindPopup(feature.properties.popupContent);
    }
}

function onEachStyle(feature, layer) {
    if (feature.properties.region == "CCR") {
        return {color: "#ff0000"}
    }
}

// global variables //
var matches = "{{ matches[0:10] }}";           //retrieve matches from views.py
console.log(matches);

var dataset;

var ppty_file = "df_with_features_1.csv";
var properties = [];

var sch_file = "primary_schools.csv";
var schools = [];

var mall_file = "malls.csv";
var malls = [];

var supermarkets_file = "supermarkets.csv"
var supermarkets = [];

var results_count = 5

// map variables //
var default_map = L.tileLayer("https://maps-{s}.onemap.sg/v3/Default/{z}/{x}/{y}.png", {detectRetina: true, maxZoom: 18, minZoom: 11});
//var night_map = L.tileLayer("https://maps-{s}.onemap.sg/v3/Night/{z}/{x}/{y}.png", {detectRetina: true, maxZoom: 18, minZoom: 11});
var map = L.map('map', {center: [1.355, 103.81], zoom: 12 }); //layers: [default_map]

// layer variables //
var base_maps = { "Default": default_map };
var area_layer = L.geoJSON(null, {onEachFeature: onEachFeature, style: onEachStyle}).addTo(map);
var overlay_maps = {};
//var overlayMaps = { //"Boundaries" : boundaries, //"Locations": locations };

// icon variables //
var hse_icon = L.icon({
    iconUrl: "icons/hse.jpg",
    iconSize: [25, 25], // size of the icon
    //iconAnchor:   [40, 40], // point of the icon which will correspond to marker's location
    //popupAnchor:  [50, 50] // point from which the popup should open relative to the iconAnchor
});

var sch_icon = L.icon({
    iconUrl: "icons/sch.png",
    iconSize: [20, 20], // size of the icon
});

var mall_icon = L.icon({
    iconUrl: "icons/mall.png",
    iconSize: [20, 20], // size of the icon
});

var mkt_icon = L.icon({
    iconUrl: "icons/mkt.jpg",
    iconSize: [20, 20], // size of the icon
});



var customLayer = L.geoJson(null, {
    style: function(feature) { // http://leafletjs.com/reference.html#geojson-style
        return { color: '#dac292' };
    }
});

default_map.addTo(map);


//console.log(districts);
//L.geoJSON(districts).addTo(map);

$.get(ppty_file, function (theData) {
    dataset = $.csv.toObjects(theData);

    for (i = 0; i < results_count; i++) {
        var tempLocation = {
            name: dataset[i].project,
            price: Math.round(dataset[i].price_per_sqm),
            latitude: dataset[i].lat,
            longitude: dataset[i].long
        }
        properties.push(L.marker([dataset[i].lat, dataset[i].long], {icon: hse_icon}).bindPopup("<b>Name: "+dataset[i].project+"</b><br>Price/Sqm: $"+Math.round(dataset[i].price_per_sqm)))
    }

    L.layerGroup(properties).addTo(map);
    //var locations = L.layerGroup(positions);
    //var overlay_maps = { "Schoools": locations };
    //L.control.layers(base_maps, overlay_maps).addTo(map);

});

$.get(sch_file, function (theData) {
    dataset = $.csv.toObjects(theData);

    for (i = 0; i < results_count; i++) {
        var tempLocation = {
            name: dataset[i].Name,
            latitude: dataset[i].lat,
            longitude: dataset[i].long
        }
        schools.push(L.marker([dataset[i].lat, dataset[i].long], {icon: sch_icon}).bindPopup("<b>Name: "+dataset[i].Name))
    }

    overlay_maps["Schools"] = L.layerGroup(schools);

});

$.get(mall_file, function (theData) {
    dataset = $.csv.toObjects(theData);

    for (i = 0; i < results_count; i++) {
        var tempLocation = {
            name: dataset[i].Name,
            latitude: dataset[i].lat,
            longitude: dataset[i].long
        }
        malls.push(L.marker([dataset[i].lat, dataset[i].long], {icon: mall_icon}).bindPopup("<b>Name: "+dataset[i].Name))
    }

    overlay_maps["Malls"] = L.layerGroup(malls);

});


$.get(supermarkets_file, function (theData) {
    dataset = $.csv.toObjects(theData);

    for (i = 0; i < results_count; i++) {
        var tempLocation = {
            name: dataset[i].Name,
            latitude: dataset[i].lat,
            longitude: dataset[i].long
        }
        supermarkets.push(L.marker([dataset[i].lat, dataset[i].long], {icon: mkt_icon}).bindPopup("<b>Name: "+dataset[i].Name))
    }

    overlay_maps["Supermarkets"] = L.layerGroup(supermarkets);

    L.control.layers(base_maps, overlay_maps).addTo(map);

});








    //var zones = L.geoJSON().addTo(map);
    //var locations = L.layerGroup(positions);
    //var boundaries = omnivore.kml(boundary_file, null, customLayer)

    //L.control.layers(baseMaps, overlayMaps).addTo(map);

    //omnivore.geojson('map.geojson').addTo(map);

    //L.geoJSON('map.geojson').addTo(map);

    //omnivore.kml(boundary_file).addTo(map);

    //AllPlanningAreas()

//var locations = L.layerGroup(positions);
//console.log(positions)

//var center = L.bounds([1.55, 104.12], [1.16, 103.50]).getCenter();
//var OneMap = L.map('map').setView([center.x, center.y], 12);
//console.log(center.x, center.y) // 1.355, 103.81
//var BaseMap = L.tileLayer("https://maps-{s}.onemap.sg/v3/Default/{z}/{x}/{y}.png", { //https://maps-{s}.onemap.sg/v3/Default/{z}/{x}/{y}.png
//    detectRetina: true, maxZoom: 18, minZoom: 11
//}).addTo(OneMap);

//showPosition(map, testlocationLatLong1);
//showPosition(map, testlocationLatLong2);

//var polygon = L.polygon([ [51.509, -0.08],[51.503, -0.06], [51.51, -0.047] ]).addTo(OneMap);
//var circle = L.circle([51.508, -0.11], { color: 'red', fillColor: '#f03', fillOpacity: 0.5, radius: 500 }).addTo(OneMap);
//marker = new L.Marker([position.coords.latitude, position.coords.longitude], {bounceOnAdd: false}).addTo(map);
//var popup = L.popup();

//OneMap.on('locationfound', onLocationFound);
//map.on('click', onMapClick);



</script>
</body>
</html>
